{% extends "pc/base.html" %}
{% block title %}{{ nav_dict['news'].title }}{% endblock %}
{% block stylesheet %}
{{ super() }}
<link rel="stylesheet" href="{{ url_for('static', filename='css/news_list.css') }}">
{% endblock %}
{% block main %}
		<div class="news-container">
			<div class="news-type-nav">
				<ul>
					{% for news_category in news_category_list %}
						{% if news_category == current_category %}
							<li><a class="chosen" href="/news/category/{{ news_category.name }}/1">{{ news_category.name }}</a></li>
						{% else %}
							<li><a href="/news/category/{{ news_category.name }}/1">{{ news_category.name }}</a></li>
						{% endif %}
					{% endfor %}
<!-- 					<li><a class="chosen" href="#">比爱早教</a></li>
					<li><a href="#">企业新闻</a></li> -->
				</ul>
			</div>
			<div class="news-list-container">
				<div class="news-list">
					<div class="news-list-content">
						<h3>{{ current_category.name }}</h3>
						<ul>
							{% for news in news_list %}
								<li><a href="/news/{{ news.id }}">{{ news.title }}</a></li>
							{% endfor %}
{# 							<li><a href="#">宝宝玩具的选择要点</a></li>
							<li><a href="#">给孩子立规矩的十九原则</a></li>
							<li><a href="#">一点寒芒先到，随后枪出如龙</a></li>
							<li><a href="#">我们心有灵犀，不是么</a></li>
							<li><a href="#">给孩子选玩具的原则</a></li>
							<li><a href="#">上班族妈妈们，不这样陪孩子，当心孩子就跟你们不亲了</a></li>
							<li><a href="#">正确帮宝宝洗澡的好方法</a></li> #}
						</ul>
					</div>
				</div>
				<div class="news-page-nav">
{#  					<ul>
						<li class="disabled" id="last-page"><a>上一页</a></li>
						<li class="chosen"><a href="#">1</a></li>
						<li><a href="#">2</a></li>
						<li><a href="#">3</a></li>
						<li><a href="#">4</a></li>
						<li><a href="#">5</a></li>
						<li><a href="#">6</a></li>
						<li id="next-page"><a href="#">下一页</a></li>
					</ul> #}
					<ul>
						{% if page_info['cur'] == page_info['min'] %}
							<li class="disabled" id="last-page"><a>{{ _("Prev") }}</a></li>
						{% else %}
							<li id="last-page"><a href="/news/category/{{ current_category.name }}/{{ page_info['cur']-1 }}">{{ _("Prev") }}</a></li>
						{% endif %}
						{% if page_info['cur']-page_info['min'] > 2 %}
							{% set min = page_info['cur'] - 2 %}
						{% else %}
							{% set min = page_info['min'] %}
						{% endif %}
						{% if page_info['max']-page_info['cur'] > 2 %}
							{% set max = page_info['cur'] + 2 %}
						{% else %}
							{% set max = page_info['max'] %}
						{% endif %}
						{% for i in range(min, max+1) %}
							{% if i == page_info['cur'] %}
								<li class="chosen"><a href="/news/category/{{ current_category.name }}/{{ i }}">{{ i }}</a></li>
							{% else %}
								<li><a href="/news/category/{{ current_category.name }}/{{ i }}">{{ i }}</a></li>
							{% endif %}
						{% endfor %}
						{% if page_info['cur'] == page_info['max'] %}
							<li class="disabled" id="next-page"><a>{{ _("Next") }}</a></li>
						{% else %}
							<li id="next-page"><a href="/news/category/{{ current_category.name }}/{{ page_info['cur']+1 }}">{{ _("Next") }}</a></li>
						{% endif %}
					</ul>
				</div>
			</div>
		</div>
{% endblock %}
